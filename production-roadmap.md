# Чеклист завершения Shop для портфолио

## Цель
Закрыть только те задачи, которые реально усиливают проект под резюме Junior+/product-oriented backend.

## Текущее состояние (по факту)
- Auth: реализованы access + refresh + logout/revoke.
- БД: настроены PostgreSQL runtime и Alembic-миграции.
- API hardening: есть единая схема ошибок и response models.
- Тесты: покрытие высокое, но сейчас есть 1 падающий тест после изменений политики доступа (`order/show` теперь требует auth).
- CI: базовый GitHub Actions есть (`pytest --cov`), но без строгих quality-gates.

## Обязательный минимум (для убедительного резюме)

### 1) Довести RBAC и вернуть полностью зеленые тесты
- [ ] Завершить role checks на чувствительных эндпоинтах (`customer`, `item`, `order/show` с политикой owner/admin).
- [ ] Обновить интеграционные тесты под новую политику доступа (`401/403/200` сценарии).
- [ ] Добиться полностью зеленого прогона тестов локально и в CI.

### 2) Подтянуть CI до демонстрируемого базового уровня
- [ ] Оставить `pytest --cov` в CI и добавить минимальный порог покрытия (`--cov-fail-under`).
- [ ] Добавить проверку `ruff` в CI.
- [ ] Сохранить workflow простым и стабильным (без лишней флаки-нагрузки).

### 3) Усилить читаемость проекта для найма
- [ ] Обновить `README.md`:
  - архитектура (FastAPI + SQLAlchemy + Postgres + Alembic),
  - auth flow (login/refresh/logout),
  - как запускать тесты и Docker.
- [ ] Добавить короткий `RUNBOOK.md` с частыми командами (`docker compose up`, alembic, tests).

### 4) Небольшой production-ish polish (дешево по усилиям, полезно как сигнал)
- [ ] Добавить `/health/live` и `/health/ready`.
- [ ] Удалить устаревший `version:` из `docker-compose.yml`, чтобы убрать предупреждения.

## Опционально (только если останется время)
- [ ] Добавить `pip-audit` в CI.
- [ ] Добавить более строгие startup-checks для обязательных секретов/env.

## Что явно не нужно в этом цикле портфолио
- Celery/Redis-очереди в этом проекте.
- Kafka/event bus.
- Полный прод-стек Nginx + gunicorn.
- Бэкапы/rollback-учения.
- Sentry/tracing-стек.

## Важно для синхронизации с резюме
- В резюме оставлять только те технологии и практики, которые реально реализованы в этом репозитории.
- Не заявлять Redis/Celery/Kafka для Shop, пока их нет в коде.
- Если оставлять тезис про оптимизацию SQL-запросов, быть готовым показать конкретные места и измерения.
